<html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:bop2="http://www.fanuc.co.jp/develop/mmc/bop2">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <title>cnc_wrpscdslop</title>
   </head>
   <body bgcolor="#FFFFFF"><FONT face="Verdana,Arial,Helvetica,sans-serif"><a name="Function Name"></a><p class="ftitle">cnc_wrpscdslop</p>
         <div class="text"><a name="Declaration"></a><p class="label">Declaration</p>
            <div class="mth">#include "fwlib32.h" or "fwlib64.h"
               <p></p>
               <prottype>FWLIBAPI short WINAPI cnc_wrpscdslop(unsigned short FlibHndl,short s_no, short *number,
                  IODBSLOP *slope); </prottype>
            </div><a name="Description"></a><p class="label">Description</p>
            <cmn>
               
               <p> Writes the slope control data of the cutting condition file.
                  </p>
               </cmn><a name="Arguments"></a><p class="label">Arguments</p>
            <div class="dtarg">
               <name>FlibHndl</name>
               &nbsp;&nbsp;[&nbsp;
               <type>in</type>&nbsp;]
               </div>
            <div class="ddarg">
               <content>
                  
                  <p>
                     Specify the library handle. See "<a href="handle.htm" target="_parent">Library handle</a>" for details.
                     </p>
                  </content>
            </div>
            <div class="dtarg">
               <name>s_no</name>
               &nbsp;&nbsp;[&nbsp;
               <type>in</type>&nbsp;]
               </div>
            <div class="ddarg">
               <content>
                  
                  <p>
                     Specify the start slope control data group number.
                     
                     <table border="0" class="dd">
                        
                        <tr> 
                           <td>301 to 305</td>
                           <td>:</td>
                           <td>  slope control data group number(UP/DOWN)</td>   </tr>
                        </table>
                     </p>
                  </content>
            </div>
            <div class="dtarg">
               <name>number</name>
               &nbsp;&nbsp;[&nbsp;
               <type>in/out</type>&nbsp;]
               </div>
            <div class="ddarg">
               <content>
                  
                  <p>
                     Pointer to the number of slope control data.
                     Specify the number of slope control data to be written before function call, 
                     and the number of slope control data being written actually is stored after the function
                     call.
                     </p>
                  </content>
            </div>
            <div class="dtarg">
               <name>slope</name>
               &nbsp;&nbsp;[&nbsp;
               <type>out</type>&nbsp;]
               </div>
            <div class="ddarg">
               <content>
                  
                  <p>
                     Pointer to the IODBSLOP structure including the slope control data of the cutting
                     condition file.
                     The IODBSLOP structure is as follows.
                     </p>
                  
                  <pre>
typedef struct iodbslop {
    long    slct;       /* Flag of data selection */
    long    upleng;     /* Step(UP) distance */
    short   upsp[10];   /* Step(UP) power 1 to 10 */
    long    dwleng;     /* Step(DOWN) distance */
    short   dwsp[10];   /* Step(DOWN) power 1 to 10 */
    short   reserve[10];/* (reserve) */
} IODBSLOP ;
</pre>
                  
                  <dl>
                     
                     <dt>slct</dt>
                     
                     <dd>Flag of data selection must be set.</dd>
                     
                     <dd>
                        <table border="0" class="dd">
                           
                           <tr> 
                              <td>bit 0</td>
                              <td>:</td>
                              <td>Step(UP) distance</td> </tr>
                           
                           <tr> 
                              <td>bit 1</td>
                              <td>:</td>
                              <td>Step(UP) power 1</td> </tr>
                           
                           <tr> 
                              <td>bit 2</td>
                              <td>:</td>
                              <td>Step(UP) power 2</td> </tr>
                           
                           <tr> 
                              <td>bit 3</td>
                              <td>:</td>
                              <td>Step(UP) power 3</td> </tr>
                           
                           <tr> 
                              <td>bit 4</td>
                              <td>:</td>
                              <td>Step(UP) power 4</td> </tr>
                           
                           <tr> 
                              <td>bit 5</td>
                              <td>:</td>
                              <td>Step(UP) power 5</td> </tr>
                           
                           <tr> 
                              <td>bit 6</td>
                              <td>:</td>
                              <td>Step(UP) power 6</td> </tr>
                           
                           <tr> 
                              <td>bit 7</td>
                              <td>:</td>
                              <td>Step(UP) power 7</td> </tr>
                           
                           <tr> 
                              <td>bit 8</td>
                              <td>:</td>
                              <td>Step(UP) power 8</td> </tr>
                           
                           <tr> 
                              <td>bit 9</td>
                              <td>:</td>
                              <td>Step(UP) power 9</td> </tr>
                           
                           <tr> 
                              <td>bit10</td>
                              <td>:</td>
                              <td>Step(UP) power 10</td> </tr>
                           
                           <tr> 
                              <td>bit11</td>
                              <td>:</td>
                              <td>Step(DOWN) distance</td> </tr>
                           
                           <tr> 
                              <td>bit12</td>
                              <td>:</td>
                              <td>Step(DOWN) power 1</td> </tr>
                           
                           <tr> 
                              <td>bit13</td>
                              <td>:</td>
                              <td>Step(DOWN) power 2</td> </tr>
                           
                           <tr> 
                              <td>bit14</td>
                              <td>:</td>
                              <td>Step(DOWN) power 3</td> </tr>
                           
                           <tr> 
                              <td>bit15</td>
                              <td>:</td>
                              <td>Step(DOWN) power 4</td> </tr>
                           
                           <tr> 
                              <td>bit16</td>
                              <td>:</td>
                              <td>Step(DOWN) power 5</td> </tr>
                           
                           <tr> 
                              <td>bit17</td>
                              <td>:</td>
                              <td>Step(DOWN) power 6</td> </tr>
                           
                           <tr> 
                              <td>bit18</td>
                              <td>:</td>
                              <td>Step(DOWN) power 7</td> </tr>
                           
                           <tr> 
                              <td>bit19</td>
                              <td>:</td>
                              <td>Step(DOWN) power 8</td> </tr>
                           
                           <tr> 
                              <td>bit20</td>
                              <td>:</td>
                              <td>Step(DOWN) power 9</td> </tr>
                           
                           <tr> 
                              <td>bit21</td>
                              <td>:</td>
                              <td>Step(DOWN) power 10</td> </tr>
                           
                           <tr> 
                              <td>bit22,..,31</td>
                              <td>:</td>
                              <td>(reserve)</td> </tr>
                           </table>
                     </dd>
                     
                     <dd>* In order to write the data to CNC, turn on the corresponding bit on this data.</dd>
                     
                     <dt>up_leng</dt>
                     
                     <dd>Specify step(UP) distance.</dd>
                     
                     <dt>upsp</dt>
                     
                     <dd>Specify step(UP) power is set.</dd>
                     
                     <dd>
                        <table border="0" class="dd">
                           
                           <tr> 
                              <td>upsp[0]</td>
                              <td>:</td>
                              <td>Step power 1</td> </tr>
                           
                           <tr> 
                              <td>upsp[1]</td>
                              <td>:</td>
                              <td>Step power 2</td> </tr>
                           
                           <tr> 
                              <td></td>
                              <td></td>
                              <td>:</td> </tr>
                           
                           <tr> 
                              <td>upsp[8]</td>
                              <td>:</td>
                              <td>Step power 9</td> </tr>
                           
                           <tr> 
                              <td>upsp[9]</td>
                              <td>:</td>
                              <td>Step power 10</td> </tr>
                           </table>
                     </dd>
                     
                     <dt>dw_leng</dt>
                     
                     <dd>Specify step(DOWN) distance is set.</dd>
                     
                     <dt>dwsp</dt>
                     
                     <dd>Specify step(DOWN) power is set.</dd>
                     
                     <dd>
                        <table border="0" class="dd">
                           
                           <tr> 
                              <td>dwsp[0]</td>
                              <td>:</td>
                              <td>Step power 1</td> </tr>
                           
                           <tr> 
                              <td>dwsp[1]</td>
                              <td>:</td>
                              <td>Step power 2</td> </tr>
                           
                           <tr> 
                              <td></td>
                              <td></td>
                              <td>:</td> </tr>
                           
                           <tr> 
                              <td>dwsp[8]</td>
                              <td>:</td>
                              <td>Step power 9</td> </tr>
                           
                           <tr> 
                              <td>dwsp[9]</td>
                              <td>:</td>
                              <td>Step power 10</td> </tr>
                           </table>
                     </dd>
                     
                     <dt>reserve</dt>
                     
                     <dd>(reserve)</dd>
                     </dl>
                  </content>
            </div><a name="Return"></a><p class="label">Return</p>
            <p>EW_OK is returned on successful completion, otherwise any value except EW_OK is returned.</p>
            <p>The major error codes are as follows.</p>
            <table border="1">
               <colgroup align="center" valign="top"></colgroup>
               <colgroup align="left" valign="top"></colgroup>
               <colgroup align="left" valign="top"></colgroup>
               <tr>
                  <th>Return code</th>
                  <th>Meaning/Error handling</th>
               </tr>
               <tr>
                  <td>
                     <name>EW_FUNC</name><br>(1)</td>
                  <td>
                     <content>
                        Unavailable<br>
                        This function cannot be used except 16i/18i-L.
                        </content>
                  </td>
               </tr>
               <tr>
                  <td>
                     <name>EW_LENGTH</name><br>(2)</td>
                  <td>
                     <content>
                        Data block length error<br>
                        Number of data(number) is wrong.
                        </content>
                  </td>
               </tr>
               <tr>
                  <td>
                     <name>EW_NUMBER</name><br>(3)</td>
                  <td>
                     <content>
                        Data number error<br>
                        Start number(s_no) is wrong.
                        </content>
                  </td>
               </tr>
               <tr>
                  <td>
                     <name>EW_DATA</name><br>(5)</td>
                  <td>
                     <content>
                        Data error<br>
                        The slope control data of the cutting condition file is wrong.
                        In order to get more information for this err_no return value, 
                        execute <a href="../misc/cnc_getdtailerr.xml" target="_parent">cnc_getdtailerr</a> function.
                        The slope control data group number which an error occurred will be set onto the member
                        of
                        err_no of ODBERR structure, and the following detailed status will be set onto the
                        member of
                        err_dtno of ODBERR structure.
                        
                        <table border="0">
                           
                           <tr>
                              <td>1</td>
                              <td>:</td>
                              <td>Error of step(UP) distance</td>
                           </tr>
                           
                           <tr>
                              <td>2</td>
                              <td>:</td>
                              <td>Error of step(UP) power 1</td>
                           </tr>
                           
                           <tr>
                              <td>3</td>
                              <td>:</td>
                              <td>Error of step(UP) power 2</td>
                           </tr>
                           
                           <tr>
                              <td>4</td>
                              <td>:</td>
                              <td>Error of step(UP) power 3</td>
                           </tr>
                           
                           <tr>
                              <td>5</td>
                              <td>:</td>
                              <td>Error of step(UP) power 4</td>
                           </tr>
                           
                           <tr>
                              <td>6</td>
                              <td>:</td>
                              <td>Error of step(UP) power 5</td>
                           </tr>
                           
                           <tr>
                              <td>7</td>
                              <td>:</td>
                              <td>Error of step(UP) power 6</td>
                           </tr>
                           
                           <tr>
                              <td>8</td>
                              <td>:</td>
                              <td>Error of step(UP) power 7</td>
                           </tr>
                           
                           <tr>
                              <td>9</td>
                              <td>:</td>
                              <td>Error of step(UP) power 8</td>
                           </tr>
                           
                           <tr>
                              <td>10</td>
                              <td>:</td>
                              <td>Error of step(UP) power 9</td>
                           </tr>
                           
                           <tr>
                              <td>11</td>
                              <td>:</td>
                              <td>Error of step(UP) power 10</td>
                           </tr>
                           
                           <tr>
                              <td>12</td>
                              <td>:</td>
                              <td>Error of step(DOWN) distance</td>
                           </tr>
                           
                           <tr>
                              <td>13</td>
                              <td>:</td>
                              <td>Error of step(DOWN) power 1</td>
                           </tr>
                           
                           <tr>
                              <td>14</td>
                              <td>:</td>
                              <td>Error of step(DOWN) power 2</td>
                           </tr>
                           
                           <tr>
                              <td>15</td>
                              <td>:</td>
                              <td>Error of step(DOWN) power 3</td>
                           </tr>
                           
                           <tr>
                              <td>16</td>
                              <td>:</td>
                              <td>Error of step(DOWN) power 4</td>
                           </tr>
                           
                           <tr>
                              <td>17</td>
                              <td>:</td>
                              <td>Error of step(DOWN) power 5</td>
                           </tr>
                           
                           <tr>
                              <td>18</td>
                              <td>:</td>
                              <td>Error of step(DOWN) power 6</td>
                           </tr>
                           
                           <tr>
                              <td>19</td>
                              <td>:</td>
                              <td>Error of step(DOWN) power 7</td>
                           </tr>
                           
                           <tr>
                              <td>20</td>
                              <td>:</td>
                              <td>Error of step(DOWN) power 8</td>
                           </tr>
                           
                           <tr>
                              <td>21</td>
                              <td>:</td>
                              <td>Error of step(DOWN) power 9</td>
                           </tr>
                           
                           <tr>
                              <td>22</td>
                              <td>:</td>
                              <td>Error of step(DOWN) power 10</td>
                           </tr>
                           </table>
                        </content>
                  </td>
               </tr>
               <tr>
                  <td>
                     <name>EW_NOOPT</name><br>(6)</td>
                  <td>
                     <content>
                        No option<br>
                        The cutting condition setting function, the slope control function and the extended
                        driver/library function are necessary.
                        </content>
                  </td>
               </tr>
            </table>
            <p></p>
            <p>
               As for the other return codes or the details, see 
               
               "<a href="errcode.htm" target="_parent">Return status of Data window function</a>"
               </p><a name="CNC option"></a><p class="label">CNC option</p>
            <p></p>
            <p>This function need the following CNC option.</p>
            <ul>
               <p>
                  <need>
                     
                     <li>The cutting condition setting function</li>
                     
                     <li>The slope control function</li>
                     </need>
               </p>
            </ul>
            <p>For HSSB connection,</p>
            <ul>
               <p>
                  <hssb>The extended driver/library function is necessary.</hssb>
               </p>
            </ul>
            <p>For Ethernet connection,</p>
            <ul>
               <p>
                  <ethr>
                     <p>The Ethernet function and the extended driver/library function are necessary.</p>
                     
                     <p>When Embedded Ethernet is used,</p>
                     
                     <p>
                        <ul>above two optional functions are not required.</ul>
                     </p>
                     
                     <p>When Ethernet board is used,</p>
                     
                     <p>
                        <ul>only Ethernet function is required.</ul>
                     </p>
                     </ethr>
               </p>
            </ul>
            <p></p><a name="CNC parameter"></a><p class="label">CNC parameter</p>
            <p>This function is not related to CNC parameter.</p><a name="CNC mode"></a><p class="label">CNC mode</p>
            <p>This function can be used in any CNC mode.</p><a name="Available CNC"></a><p class="label">Available CNC</p>
            <table border="1">
               <colgroup width="100em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <tr>
                  <th></th>
                  <th>0i-A</th>
                  <th>0i-B/C(Note)</th>
                  <th>0i-D</th>
                  <th>0i-F</th>
                  <th>15</th>
                  <th>15i</th>
                  <th>16</th>
                  <th>18</th>
                  <th>21</th>
                  <th>16i-A</th>
                  <th>18i-A</th>
                  <th>21i-A</th>
                  <th>16i-B</th>
                  <th>18i-B</th>
                  <th>21i-B</th>
                  <th>30i-A</th>
                  <th>30i-B</th>
               </tr>
               <tr>
                  <td>M (Machining)</td>
                  <td class="">
                     <fs0ia>-</fs0ia>
                  </td>
                  <td class="">
                     <fs0ib>-</fs0ib>
                  </td>
                  <td class="">
                     <fs0id>-</fs0id>
                  </td>
                  <td class="">
                     <fs0if>-</fs0if>
                  </td>
                  <td class="">
                     <fs15>-</fs15>
                  </td>
                  <td class="">
                     <fs15i>-</fs15i>
                  </td>
                  <td class="">
                     <fs16>-</fs16>
                  </td>
                  <td class="">
                     <fs18>-</fs18>
                  </td>
                  <td class="">
                     <fs21>-</fs21>
                  </td>
                  <td class="">
                     <fs16ia>-</fs16ia>
                  </td>
                  <td class="">
                     <fs18ia>-</fs18ia>
                  </td>
                  <td class="">
                     <fs21ia>-</fs21ia>
                  </td>
                  <td class="">
                     <fs16ib>-</fs16ib>
                  </td>
                  <td class="">
                     <fs18ib>-</fs18ib>
                  </td>
                  <td class="">
                     <fs21ib>-</fs21ib>
                  </td>
                  <td class="">
                     <fs30ia>-</fs30ia>
                  </td>
                  <td class="">
                     <fs30ib>-</fs30ib>
                  </td>
               </tr>
               <tr>
                  <td>T (Turning)  </td>
                  <td class="">
                     <fs0ia>-</fs0ia>
                  </td>
                  <td class="">
                     <fs0ib>-</fs0ib>
                  </td>
                  <td class="">
                     <fs0id>-</fs0id>
                  </td>
                  <td class="">
                     <fs0if>-</fs0if>
                  </td>
                  <td class="">
                     <fs15>-</fs15>
                  </td>
                  <td>
                     -
                     </td>
                  <td class="">
                     <fs16>-</fs16>
                  </td>
                  <td class="">
                     <fs18>-</fs18>
                  </td>
                  <td class="">
                     <fs21>-</fs21>
                  </td>
                  <td class="">
                     <fs16ia>-</fs16ia>
                  </td>
                  <td class="">
                     <fs18ia>-</fs18ia>
                  </td>
                  <td class="">
                     <fs21ia>-</fs21ia>
                  </td>
                  <td class="">
                     <fs16ib>-</fs16ib>
                  </td>
                  <td class="">
                     <fs18ib>-</fs18ib>
                  </td>
                  <td class="">
                     <fs21ib>-</fs21ib>
                  </td>
                  <td class="">
                     <fs30ia>-</fs30ia>
                  </td>
                  <td class="">
                     <fs30ib>-</fs30ib>
                  </td>
               </tr>
               <tr>
                  <td>LC (Loader)  </td>
                  <td>
                     -
                     </td>
                  <td>
                     -
                     </td>
                  <td>
                     -
                     </td>
                  <td>
                     -
                     </td>
                  <td>
                     -
                     </td>
                  <td>
                     -
                     </td>
                  <td class="">
                     <fs16>-</fs16>
                  </td>
                  <td class="">
                     <fs18>-</fs18>
                  </td>
                  <td class="">
                     <fs21>-</fs21>
                  </td>
                  <td class="">
                     <fs16ia>-</fs16ia>
                  </td>
                  <td class="">
                     <fs18ia>-</fs18ia>
                  </td>
                  <td class="">
                     <fs21ia>-</fs21ia>
                  </td>
                  <td class="">
                     <fs16ib>-</fs16ib>
                  </td>
                  <td class="">
                     <fs18ib>-</fs18ib>
                  </td>
                  <td class="">
                     <fs21ib>-</fs21ib>
                  </td>
                  <td>
                     -
                     </td>
                  <td>
                     -
                     </td>
               </tr>
            </table>
            <p></p>
            <table border="1">
               <colgroup width="100em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <colgroup align="center" width="40em"></colgroup>
               <tr>
                  <th></th>
                  <th>0i-D</th>
                  <th>0i-F</th>
                  <th>16i</th>
                  <th>18i</th>
                  <th>30i-A</th>
                  <th>30i-B</th>
               </tr>
               <tr>
                  <td>P (Punch press)</td>
                  <td class="">
                     <fs0id>-</fs0id>
                  </td>
                  <td class="">
                     <fs0if>-</fs0if>
                  </td>
                  <td class="">
                     <fs16i>-</fs16i>
                  </td>
                  <td class="">
                     <fs18i>-</fs18i>
                  </td>
                  <td>
                     -
                     </td>
                  <td class="">
                     <fs30ib>-</fs30ib>
                  </td>
               </tr>
               <tr>
                  <td>L (Laser)      </td>
                  <td>
                     -
                     </td>
                  <td>
                     -
                     </td>
                  <td class="support">
                     <fs16i>O</fs16i>
                  </td>
                  <td>
                     -
                     </td>
                  <td>
                     -
                     </td>
                  <td class="">
                     <fs30ib>X</fs30ib>
                  </td>
               </tr>
               <tr>
                  <td>W (Wire)       </td>
                  <td>
                     -
                     </td>
                  <td>
                     -
                     </td>
                  <td class="">
                     <fs16i>-</fs16i>
                  </td>
                  <td class="">
                     <fs18i>-</fs18i>
                  </td>
                  <td class="">
                     <fs30ia>-</fs30ia>
                  </td>
                  <td class="">
                     <fs30ib>-</fs30ib>
                  </td>
               </tr>
            </table>
            <p></p><br><table border="1">
               <colgroup width="100em"></colgroup>
               <colgroup align="center" width="86em"></colgroup>
               <colgroup align="center" width="86em"></colgroup>
               <tr>
                  <td>Power Mate i-D</td>
                  <td class="">
                     <d>-</d>
                  </td>
               </tr>
               <tr>
                  <td>Power Mate i-H</td>
                  <td class="">
                     <h>-</h>
                  </td>
               </tr>
               <tr>
                  <td>Power Motion i-A</td>
                  <td class=""><a>-</a></td>
               </tr>
            </table>
            <p></p>
            <table class="dd">
               <tr>
                  <td></td>
                  <td>"O"</td>
                  <td>:</td>
                  <td>Both Ethernet and HSSB</td>
               </tr>
               <tr>
                  <td></td>
                  <td>"E"</td>
                  <td>:</td>
                  <td>Ethernet</td>
               </tr>
               <tr>
                  <td></td>
                  <td>"H"</td>
                  <td>:</td>
                  <td>HSSB</td>
               </tr>
               <tr>
                  <td></td>
                  <td>"X"</td>
                  <td>:</td>
                  <td>Cannot be used</td>
               </tr>
               <tr>
                  <td></td>
                  <td>"-"</td>
                  <td>:</td>
                  <td>None</td>
               </tr>
            </table>
            <p style="background-color:mistyrose;">Note) 0i-C does not support the HSSB function.</p>
            <p></p><a name="Reference"></a><p class="label">See Also</p>
            <p><a class="func" target="_parent" href="../laser/cnc_rdpscdslop.xml">cnc_rdpscdslop</a>&nbsp;&nbsp;
               </p><a name="Example"></a></div></FONT><hr>
   </body>
</html>